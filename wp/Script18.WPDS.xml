<?xml version="1.0" encoding="UTF-8"?><script><script_id>18:WPDS</script_id><name>Check for Run Once</name><script_type_id>13</script_type_id><row_version>39</row_version><lu_id>SNEHAI</lu_id><lu_date>2015-10-27T00:55:19</lu_date><false_msg/><description/><emit_events>0</emit_events><script_line><script_line_id>114:TEST</script_line_id><script_id>18:WPDS</script_id><sequence>1</sequence><script_class_id>7</script_class_id><source_name>LOCAL</source_name><row_version>1</row_version><lu_id>SNEHAI</lu_id><lu_date>2015-10-27T00:55:19</lu_date><statement>importPackage(Packages.com.workpoint.common.data);[lf][lf]actname =  ThisJobNodeData.getBulkUserDataString("ActivityName");[lf][lf]nodedata = ThisJobData.getNodeByName(actname);[lf][lf]SymbolTable.add("colid", ThisJobData.getBulkUserDataString("OrderId"));[lf]SymbolTable.add("actname", actname);[lf]SymbolTable.add("actid", nodedata.getProcessNodeTemplateID().getID());[lf]SymbolTable.add("actdb",nodedata.getProcessNodeTemplateID().getDB());</statement><name/><validation_status>0</validation_status><validation_status_msg/></script_line><script_line><script_line_id>115:TEST</script_line_id><script_id>18:WPDS</script_id><sequence>2</sequence><script_class_id>1</script_class_id><source_name>LOCAL</source_name><row_version>1</row_version><lu_id>SNEHAI</lu_id><lu_date>2015-10-27T00:55:19</lu_date><statement>SELECT DISTINCT 'TRUE'[lf] from WPFX_LAST_REACHED WHERE COLLECTION_KEY_ID = :colid AND[lf]  NODE_TEMPLATE_ID = :actid AND[lf]  NODE_TEMPLATE_DB = :actdb[lf]      HAVING count(*) = 0[lf]INTO :last</statement><name/><validation_status>0</validation_status><validation_status_msg/></script_line><script_line><script_line_id>116:TEST</script_line_id><script_id>18:WPDS</script_id><sequence>3</sequence><script_class_id>7</script_class_id><source_name>LOCAL</source_name><row_version>1</row_version><lu_id>SNEHAI</lu_id><lu_date>2015-10-27T00:55:19</lu_date><statement>result1 = SymbolTable.getSymbol("last").getPrimaryValue();[lf][lf]if (result1 == 'FALSE' || result1 == null)[lf]{[lf]  // Don't need to check wi[lf]  SymbolTable.add("WIResult","FALSE");[lf]  SymbolTable.add('WPNextStatement', SymbolTable.getSymbol("WPLastStatement").getPrimaryValue());[lf]}</statement><name/><validation_status>0</validation_status><validation_status_msg/></script_line><script_line><script_line_id>117:TEST</script_line_id><script_id>18:WPDS</script_id><sequence>4</sequence><script_class_id>1</script_class_id><source_name>LOCAL</source_name><row_version>1</row_version><lu_id>SNEHAI</lu_id><lu_date>2015-10-27T00:55:19</lu_date><statement>SELECT DISTINCT 'TRUE'[lf]  from WP_PROCI where[lf]  NOT EXISTS( select ai.acti_id[lf]  from WP_PROCI pi, WP_WORK_ITEM wi, WP_USER_DATA ud, WP_ACT at, WP_ACTI ai[lf]  WHERE  wi.work_state_id in (3,4) and[lf]    pi.proci_id = wi.proci_id AND pi.proci_db = wi.proci_db[lf]    AND at.name = :actname [lf]    AND ai.act_id = at.act_id AND ai.act_db = at.act_db[lf]    AND wi.acti_id = ai.acti_id AND wi.acti_db = ai.acti_db[lf]    AND pi.proci_id = ud.data_id AND pi.proci_db = ud.data_db[lf]    AND ud.var_name = 'CollectionExternalId' AND to_nchar(ud.var_cvalue) = :colid)[lf]INTO :WIResult</statement><name/><validation_status>0</validation_status><validation_status_msg/></script_line><script_line><script_line_id>118:TEST</script_line_id><script_id>18:WPDS</script_id><sequence>5</sequence><script_class_id>7</script_class_id><source_name>LOCAL</source_name><row_version>1</row_version><lu_id>SNEHAI</lu_id><lu_date>2015-10-27T00:55:19</lu_date><statement>wiresult = SymbolTable.getSymbol("WIResult").getPrimaryValue();[lf][lf]if (wiresult == null || wiresult == 'FALSE')[lf]{[lf]   SymbolTable.add("Result1","FALSE");[lf]}[lf]else[lf]{[lf]  SymbolTable.add("Result1","TRUE")[lf]}</statement><name/><validation_status>0</validation_status><validation_status_msg/></script_line><validation_status>0</validation_status></script>